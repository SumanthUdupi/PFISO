# REQ-042: Update Loop Optimization

## 1. Requirement Title
Optimize Camera Update Frequency

## 2. Problem Statement
Camera calculations might be running more often than needed or sorting needlessly.

## 3. Proposed Solution
Ensure Camera update runs *once* per frame, strictly *after* physics and player movement. Use `useFrame(..., 1)` priority.

## 4. Implementation Details
- **File**: `CameraSystem.tsx`
- **Logic**: `useFrame(update, 100)` ensure it runs last.

## 5. Code Snippets
```typescript
useFrame((state, dt) => {
    // Camera Logic
}, 100); // High priority = runs last? Check R3F docs. 
// Actually R3F: Positive priority runs AFTER 0. So yes.
```

## 6. Expected Benefits
- **Stability**: Prevents 1-frame lag (jitter).

## 7. Dependencies
- None

## 8. Priority Level
**Critical**

## 9. Estimated Complexity
**Simple**
