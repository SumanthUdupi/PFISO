# REQ-006: SphereCast Collision

## 1. Requirement Title
Implement SphereCast for Camera Collision

## 2. Problem Statement
The current camera collision uses a single Raycast. This causes the camera to clip through geometry when the camera's near plane intersects an object that the ray missed (e.g., corners, thin poles, or ground irregularities).

## 3. Proposed Solution
Replace `world.castRay` with `world.castShape` (Sphere or Capsule cast). The radius should match the camera's near clipping plane (approx 0.1 - 0.2 units).

## 4. Implementation Details
- **File**: `CameraSystem.tsx`
- **Method**: `rapier.World.castShape`
- **Logic**: Cast a sphere from the Target to the Ideal Camera Position. On hit, place the camera at `hit.time` minus a small safety buffer.

## 5. Code Snippets
```typescript
const shape = new rapier.Ball(0.2); // 20cm radius
const hit = world.castShape(ray, shape, maxDist, true);
```

## 6. Expected Benefits
- **Immersion**: Prevents seeing "inside" meshes.
- **Polish**: Eliminates visual glitching near walls.

## 7. Dependencies
- Rapier Physics

## 8. Priority Level
**High**

## 9. Estimated Complexity
**Moderate**
